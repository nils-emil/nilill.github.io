"use strict";(self.webpackChunkmy_app_ts=self.webpackChunkmy_app_ts||[]).push([[998],{2519:function(e,n,s){s.r(n),s.d(n,{default:function(){return V}});var t=s(2791),r=s(7689),i=s(7649),a=s(5923),o=s(9999),c=s(5158),l=s(5186),u=s(1413),d=s(9439),m=s(1134),f=s(6151),h=s(1870),x=s(4554),p=s(3044),w=s(5459),v=s(9617),j=s(419),g=s(9655),Z=s(8007),b=s(4695),C=s(1688),y=s(5942),P=s(6362),N=s(4925),A=s(9234),k=s(8029),E=s(3786),_=s(158),q=s(3956),W=s(184),G=function(e){var n,s=e.onUpdate,r=e.login,i=(0,a.TL)(),o=(0,a.CG)((function(e){return e.authentication.isAuthenticated})),G=(0,a.CG)((function(e){return(0,C.PR)(e.authentication.account.authorities,[y.t.ADMIN])})),S=(0,t.useState)(!1),L=(0,d.Z)(S,2),M=L[0],R=L[1],T=(0,t.useState)(""),U=(0,d.Z)(T,2),F=U[0],Y=U[1],I=(0,a.CG)((function(e){return e.settings.successMessage})),O=t.useState(null),D=(0,d.Z)(O,2),V=D[0],X=D[1],z=(0,a.CG)((function(e){return e.userManagement.authorities})),B=(0,a.CG)((function(e){return e.userManagement.userExtended})),H=Z.Ry().shape({email:Z.Z_().required("Email is required").email().min(5,"Your email is required to be at least 5 characters.").max(50,"Your email cannot be longer than 50 characters.")});(0,t.useEffect)((function(){M&&i((0,q.PR)(r))}),[r,M]),(0,t.useEffect)((function(){G&&M&&i((0,q.F3)())}),[o,G,M]);var J=(0,m.cI)({mode:"all",resolver:(0,b.X)(H)}),K=J.register,Q=J.getValues,$=J.reset,ee=J.formState.errors;(0,t.useEffect)((function(){I&&(g.Am.success(I),R(!1),i((0,c.UL)()),s&&s())}),[I]),(0,t.useEffect)((function(){B&&(Y(B.imageUrl),$(B))}),[B]);var ne=Boolean(V),se=ne?"simple-popover":void 0;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(l.nA,{condition:o,children:(0,W.jsx)(f.Z,{onClick:function(){return R(!0)},children:"..."})}),(0,W.jsx)(h.Z,{disableEnforceFocus:!0,open:M,onClose:function(){return R(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,W.jsx)(x.Z,{sx:j.o,children:(0,W.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=(0,u.Z)((0,u.Z)({},Q()),{},{imageUrl:F});i(G?(0,q.Nq)(n):(0,c.wL)(n))},className:"space-y-2",children:[(0,W.jsx)(p.Z,{sx:{width:90,height:90},className:"cursor-pointer mb-3",onClick:function(e){X(e.currentTarget)},alt:B.login,src:F}),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({required:!0,id:"email",name:"email",type:"email",label:"Email",fullWidth:!0},K("email")),{},{error:!!ee.email}),"email".concat(null===B||void 0===B?void 0:B.email)),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({id:"website",name:"website",type:"text",label:"Website URL",fullWidth:!0},K("website")),{},{error:!!ee.website}),"website".concat(null===B||void 0===B?void 0:B.id)),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({id:"name",name:"name",type:"text",label:"Name",fullWidth:!0},K("name")),{},{error:!!ee.name}),"name".concat(null===B||void 0===B?void 0:B.id)),(0,W.jsx)("p",{children:null===(n=ee.email)||void 0===n?void 0:n.message}),(0,W.jsx)(v.ZP,{id:se,open:ne,anchorEl:V,onClose:function(){X(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,W.jsx)("div",{className:"grid grid-cols-3 p-2",children:["/static/images/avatars/img.webp","/static/images/avatars/img_1.webp","/static/images/avatars/img_2.webp","/static/images/avatars/img_3.webp","/static/images/avatars/img_4.webp","/static/images/avatars/img_5.webp","/static/images/avatars/img_6.webp","/static/images/avatars/img_7.webp","/static/images/avatars/img_8.webp","/static/images/avatars/img_9.webp"].map((function(e){return(0,W.jsx)(p.Z,{sx:{width:90,height:90},className:"cursor-pointer m-2",onClick:function(){return Y(e),void X(null)},alt:e,src:e},e)}))})}),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({},K("description")),{},{placeholder:"Account description",minRows:3,multiline:!0,className:"w-full p-3 border-2\t"})),(0,W.jsx)(l.nA,{condition:G,children:(0,W.jsxs)(P.Z,{sx:{width:"100%"},children:[(0,W.jsx)(N.Z,{id:"demo-multiple-checkbox-label",children:"Authorities"}),(0,W.jsx)(A.Z,(0,u.Z)((0,u.Z)({labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0},K("authorities")),{},{defaultValue:(null===B||void 0===B?void 0:B.authorities)||[],input:(0,W.jsx)(k.Z,{label:"Authorities"}),children:z.map((function(e){return(0,W.jsx)(E.Z,{value:e,children:(0,W.jsx)(_.Z,{primary:e})},e)}))}),"authorities".concat(null===B||void 0===B?void 0:B.id))]})}),(0,W.jsx)(f.Z,{variant:"outlined",color:"secondary",className:"w-full",type:"submit",children:"Save"})]})})})]})},S=function(){var e=(0,r.UO)().login,n=(0,a.TL)(),s=(0,a.CG)((function(e){return e.authentication.isAuthenticated}));return(0,t.useEffect)((function(){return n((0,o.Gg)()),n((0,q.k2)(e)),function(){n((0,c.mc)())}}),[e]),(0,W.jsx)("div",{className:"content",children:(0,W.jsx)(l.nA,{condition:s,children:function(){return(0,W.jsx)(G,{onUpdate:function(){n((0,o.Gg)()),n((0,q.k2)(e))},login:e})}})})},L=function(){var e=(0,a.TL)(),n=(0,r.s0)(),s=(0,a.CG)((function(e){return e.authentication.isAuthenticated}));return(0,t.useEffect)((function(){e((0,o.kS)())}),[]),(0,t.useEffect)((function(){s||(g.Am.success("Logged out"),n("/"))}),[s]),(0,W.jsx)("div",{className:"p-5",children:(0,W.jsx)("h4",{children:"Logged out successfully!"})})},M=s(1087),R=s(3710),T=s(2439),U=function(){var e=(0,a.TL)(),n=(0,M.lr)(),s=(0,d.Z)(n,1)[0],i=(0,r.s0)();(0,t.useEffect)((function(){var n=s.get("key");return e((0,R.E1)(n)),function(){e((0,R.mc)())}}),[]);var o=(0,a.CG)((function(e){return e.activate})),c=o.activationSuccess,u=o.activationFailure;return(0,W.jsx)("div",{className:"content flex justify-center items-center",children:(0,W.jsx)("div",{className:"justify-content-center ",children:(0,W.jsxs)("div",{children:[(0,W.jsx)(l.nA,{condition:c,children:(0,W.jsxs)("div",{color:"danger",className:"flex flex-col items-center gap-3 justify-center",children:[(0,W.jsx)("div",{className:"font-medium text-3xl",children:"Your user account has been activated."}),(0,W.jsx)(f.Z,{variant:"contained",onClick:function(){i("/"),e((0,T.Mo)())},children:"Sign in"})]})}),(0,W.jsx)(l.nA,{condition:u,children:(0,W.jsxs)("div",{color:"danger",className:"flex flex-col items-center gap-3 justify-center",children:[(0,W.jsx)("div",{className:"font-medium text-3xl",children:"Your user could not be activated."}),(0,W.jsx)("p",{className:"block",children:"Please use the registration form to sign up."}),(0,W.jsx)("div",{children:(0,W.jsx)(f.Z,{variant:"contained",onClick:function(){i("/"),e((0,T.yj)())},children:"Sign up"})})]})})]})})})},F=s(7834),Y=function(){var e,n,s,r=(0,a.TL)(),i=Z.Ry().shape({currentPassword:Z.Z_().required("Current password is required"),newPassword:Z.Z_().required("New password is required").min(4,"New password is required to be at least 4 characters.").max(50,"Your password cannot be longer than 50 characters."),newPasswordConfirmation:Z.Z_().required("Password confirmation is required").oneOf([Z.iH("newPassword"),null],"Confirmation must match new password")}),o=(0,m.cI)({mode:"all",resolver:(0,b.X)(i)}),c=o.register,l=o.handleSubmit,d=o.reset,h=o.formState.errors,x=(0,a.CG)((function(e){return e.password.successMessage})),p=(0,a.CG)((function(e){return e.password.errorMessage}));(0,t.useEffect)((function(){x?g.Am.success(x):p&&g.Am.error(p),d()}),[x,p]);return(0,W.jsx)("div",{className:"content",children:(0,W.jsxs)("form",{onSubmit:l((function(e){var n=e.currentPassword,s=e.newPassword;r((0,F.vW)({currentPassword:n,newPassword:s}))}),(function(){})),className:"space-y-2",children:[(0,W.jsx)("h4",{className:"font-semibold text-2xl",children:"Change password"}),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({required:!0,id:"currentPassword",color:"secondary",name:"currentPassword",type:"password",label:"Current password",fullWidth:!0},c("currentPassword")),{},{error:!!h.currentPassword})),(0,W.jsx)("p",{children:null===(e=h.currentPassword)||void 0===e?void 0:e.message}),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({required:!0,id:"newPassword",name:"newPassword",label:"New password",color:"secondary",type:"password",fullWidth:!0},c("newPassword")),{},{error:!!h.newPassword})),(0,W.jsx)("p",{children:null===(n=h.newPassword)||void 0===n?void 0:n.message}),(0,W.jsx)(w.Z,(0,u.Z)((0,u.Z)({required:!0,id:"newPasswordConfirmation",name:"newPasswordConfirmation",label:"New password confirmation",color:"secondary",type:"password",fullWidth:!0},c("newPasswordConfirmation")),{},{error:!!h.newPasswordConfirmation})),(0,W.jsx)("div",{children:null===(s=h.newPasswordConfirmation)||void 0===s?void 0:s.message}),(0,W.jsx)(f.Z,{variant:"outlined",color:"primary",className:"w-full",type:"submit",children:"Change password"})]})})},I=s(2338),O=function(){var e=(0,a.TL)();(0,t.useEffect)((function(){return function(){e((0,I.mc)())}}),[]);var n=(0,a.CG)((function(e){return e.passwordReset.successMessage}));return(0,t.useEffect)((function(){n&&g.Am.success(n)}),[n]),(0,W.jsx)(W.Fragment,{children:"Not implemented"})},D=s(7224),V=function(){return(0,W.jsxs)(i.Z,{children:[(0,W.jsx)(r.AW,{path:"account/:login",element:(0,W.jsx)(S,{})}),(0,W.jsx)(r.AW,{path:"logout",element:(0,W.jsx)(L,{})}),(0,W.jsx)(r.AW,{path:"activate",element:(0,W.jsx)(U,{})}),(0,W.jsx)(r.AW,{path:"account/change/password",element:(0,W.jsx)(Y,{})}),(0,W.jsx)(r.AW,{path:"account/reset/request",element:(0,W.jsx)(O,{})}),(0,W.jsx)(r.AW,{path:"*",element:(0,W.jsx)(D.Z,{})})]})}},7649:function(e,n,s){s(2791);var t=s(7689),r=s(184);n.Z=function(e){var n=e.children;return(0,r.jsx)(t.Z5,{children:(0,r.jsx)(t.AW,{element:(0,r.jsx)(t.j3,{}),children:n})})}}}]);
//# sourceMappingURL=content.4b2d8c6a.chunk.js.map